<!doctype html>
<html lang="en" class="h-full">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GitHub Actions Matrix Parser</title>
  <meta name="description" content="A simple tool to visualize GitHub Actions matrix combinations and debug complex matrix configurations." />
  <meta name="keywords" content="GitHub Actions, Matrix, GitHub Workflows, YAML, Parser, Debug, Visualization, Linter, CI, CI/CD" />
  <link rel="canonical" href="https://katexochen.github.io/github-matrix-parser/" />
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://katexochen.github.io/github-matrix-parser/" />
  <meta property="og:title" content="GitHub Actions Matrix Parser" />
  <meta property="og:description" content="A simple tool to visualize GitHub Actions matrix combinations and debug complex matrix configurations." />
  <!-- Twitter -->
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:url" content="https://katexochen.github.io/github-matrix-parser/" />
  <meta property="twitter:title" content="GitHub Actions Matrix Parser" />
  <meta property="twitter:description" content="A simple tool to visualize GitHub Actions matrix combinations and debug complex matrix configurations." />
  <!-- Fediverse -->
  <meta name="fediverse:creator" content="@katexochen@infosec.exchange" />
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%2324292f'><path d='M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'></path></svg>" />
</head>

<body class="bg-[#f6f8fa] h-full flex flex-col font-sans text-[#24292f]">
  <header class="bg-white border-b border-[#d0d7de] py-4 px-6 shadow-sm">
    <div class="max-w-7xl mx-auto flex items-center justify-between gap-3">
      <div>
        <h1 class="text-lg font-semibold leading-tight text-[#24292f]">GitHub Actions Matrix Parser</h1>
        <p class="text-xs text-[#57606a]">Visualize GitHub Actions matrix combinations</p>
      </div>
      <a href="https://docs.github.com/en/actions/how-tos/write-workflows/choose-what-workflows-do/run-job-variations" 
         class="text-sm text-[#0969da] hover:underline font-semibold"
         target="_blank" rel="noopener noreferrer">
        GitHub workflow matrix documentation
      </a>
    </div>
  </header>

  <main class="flex-1 max-w-7xl mx-auto w-full p-6 flex flex-col overflow-hidden">
    <div class="flex-1 flex flex-col md:flex-row gap-6 overflow-hidden min-h-0 mb-4">
    <!-- Input Section -->
    <div class="w-full md:w-1/2 flex flex-col h-full">
      <div class="mb-2 flex justify-between items-baseline">
        <label for="yaml-input" class="text-sm font-semibold">Workflow Matrix YAML</label>
      </div>
      <div class="flex-1 flex flex-col border border-[#d0d7de] rounded-md overflow-hidden bg-white shadow-sm">
        <div class="bg-[#f6f8fa] px-3 py-2 border-b border-[#d0d7de] text-xs font-mono text-gray-600">
          matrix.yml
        </div>
        <textarea id="yaml-input"
          class="flex-1 p-4 font-mono text-xs md:text-sm bg-white outline-none resize-none leading-relaxed"
          spellcheck="false" placeholder="Paste your workflow matrix here...">matrix:
  os: [ubuntu-latest, windows-latest]
  version: [10, 12, 14]
  include:
    - os: ubuntu-latest
      version: 16
  exclude:
    - os: windows-latest
      version: 10</textarea>
      </div>
      <div id="error-message" class="mt-2 p-3 bg-red-50 border border-red-200 text-red-600 text-sm rounded-md hidden">
      </div>
    </div>

    <!-- Output Section -->
    <div class="w-full md:w-1/2 flex flex-col h-full overflow-hidden">
      <div class="mb-2 flex justify-between items-center pr-1 h-[21px]">
          <h2 class="text-sm font-semibold">Generated Jobs <span id="count" class="ml-1 inline-flex items-center justify-center bg-[#afb8c133] text-xs font-medium px-2 py-0.5 rounded-full">0</span></h2>
          <div class="flex items-center gap-2" title="Underspecified matrix configurations occur when you define include keys that are not present in the original matrix dimensions. In GitHub Actions, this can lead to unexpected behavior where the included job doesn't inherit the properties you expect, or don't run at all.">
              <input type="checkbox" id="check-underspecified" checked class="rounded border-gray-300 text-[#0969da] focus:ring-[#0969da] cursor-pointer">
              <label for="check-underspecified" class="text-xs text-[#57606a] cursor-pointer select-none underline decoration-dotted decoration-gray-400 underline-offset-2">Check underspecified</label>
              <span id="underspecified-count-container" class="hidden">
                  <span id="underspecified-count" class="ml-1 inline-flex items-center justify-center bg-red-100 text-red-600 text-xs font-medium px-2 py-0.5 rounded-full">0</span>
              </span>
          </div>
      </div>
      <div class="flex-1 overflow-auto pr-1" id="output-container">
        <div id="output" class="space-y-3">
          <!-- Results will be injected here -->
        </div>
      </div>
    </div>
    </div>

    <!-- Notification Banner -->
    <div id="cli-notification" class="bg-blue-50 border border-blue-200 text-[#0969da] px-4 py-3 rounded-md text-sm flex items-center justify-between flex-none shadow-sm transition-all duration-500 ease-in-out overflow-hidden max-h-24 opacity-100">
      <div class="flex items-center gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4 flex-none" aria-hidden="true">
          <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-5a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5A.75.75 0 0 0 8 3Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"/>
        </svg>
        <span>This tool is also available as CLI for use in CI/CD pipelines.</span>
      </div>
      <a href="https://github.com/katexochen/github-matrix-parser?tab=readme-ov-file#cli-usage" 
         class="font-semibold underline hover:text-[#0a3069] whitespace-nowrap ml-4"
         target="_blank" rel="noopener noreferrer">Learn more &rarr;</a>
    </div>
  </main>

  <footer class="mt-auto py-6 border-t border-[#d0d7de] bg-white">
    <div class="max-w-7xl mx-auto px-6 flex justify-center items-center text-xs text-gray-500 gap-4">
      <span>&copy; 2025 Paul Meyer</span>
      <span>&bull;</span>
      <a href="https://github.com/katexochen/github-matrix-parser" class="hover:text-[#0969da] hover:underline"
        target="_blank" rel="noopener noreferrer">View on GitHub</a>
      <span>&bull;</span>
      <a href="https://github.com/katexochen/github-matrix-parser/issues/new" class="hover:text-[#0969da] hover:underline"
        target="_blank" rel="noopener noreferrer">Report an Issue</a>
    </div>
  </footer>

  <script type="module" src="/src/main.js"></script>
</body>

</html>
